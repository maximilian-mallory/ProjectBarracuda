<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login Page</title>
  <link rel="stylesheet" href="../static/css/signupPage.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
</head>
<body>
  <div class="signup-box">
    <h2>Signup</h2>
    <form>
      {% csrf_token %}
      <div class="username-group">
        <label for="username">Username</label>
        <input type="text" id="username" name="username" placeholder="Enter your username" required>
      </div>
      <br>
      <div class="email-group">
        <label for="email">Email</label>
        <input type="text" id="email" name="email" placeholder="Enter your email" required>
      </div>
      <br>
      <div class="password-group">
        <label for="password">Password</label>
        <input type="password" id="password" name="password" placeholder="Enter your password" required>
      </div>
      <br>
      <div class="button-group">
        <img src="../static/images/Cloud.png">
        <button class="btn" name="submit" type="submit">Signup</button>
      </div>
    </form>
    <img class= "logo" src="../static/images/Project-Barracuda_Logo.jpg">
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
        const form = document.querySelector('form');

        form.addEventListener('submit', function(event) {
          event.preventDefault();

          const username = document.querySelector('#username').value.trim();
          const email = document.querySelector('#email').value.trim();
          const password = CryptoJS.SHA1(document.querySelector('#password').value.trim()).toString();

          const data = {
            username: username,
            email: email,
            password: password
          };
          console.log(data);

          fetch('/sign-up-verify/', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify(data)
            })
            .then(response => response.json())
            .then(result => {
              console.log(result);
            })
            .catch(error => {
              console.error('Error:', error);
            });
        });
    });
  </script>
</body>
</html>
